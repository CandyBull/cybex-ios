language: swift
osx_image: xcode10
cache:
  directories:
    - Carthage
    - NBLCommonModule/Carthage
before_install:
  - wget -qO- -O tmp.zip https://coding.net/api/share/download/82342e38-a714-426a-8f3f-0bfa545d381b && unzip tmp.zip && rm tmp.zip
  - brew install lvillani/tap/carthage-copy-frameworks
  - bundle install
  - bundle update
  - bundle exec pod repo update --silent
  - carthage bootstrap --no-use-binaries --platform iOS --cache-builds
  - cd "./NBLCommonModule/" && carthage bootstrap --no-use-binaries --platform iOS --cache-builds
  - cd "../"
script:
  - .travis/build.sh
